<!-- ============================================================
üå∏ OLIVIA‚ÄôS WORLD: CRYSTAL KEEP ‚Äî index.html
------------------------------------------------------------
‚ú¶ Main entry HTML for the Spire Defense game
‚ú¶ Includes landing, profile, hub, and game screens
‚ú¶ Modular sparkle & overlay system (sparkles.js)
============================================================ -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- üå∏ Flower emoji favicon -->
    <link
        rel="icon"
        href="data:image/svg+xml,&lt;svg xmlns='http://www.w3.org/2000/svg' 
        viewBox='0 0 100 100'&gt;&lt;text y='.9em' font-size='90'&gt;üå∏&lt;/text&gt;&lt;/svg&gt;"
    />

    <title>Olivia‚Äôs World: Crystal Keep</title>

    <!-- ============================================================
        üå∏ GLOBAL + BASE STYLES
    ============================================================ -->

    <link rel="stylesheet" href="./css/main.css" />

    <!-- ============================================================
        üé® MISC (Animations, Shared Mixins, Effects)
    ============================================================ -->

    <link rel="stylesheet" href="./css/misc/animations.css" />
    <link rel="stylesheet" href="./css/misc/chest.css" />

    <!-- ============================================================
        üè∞ SCREEN-LEVEL STYLES (Landing, Hub, Profile)
    ============================================================ -->

    <link rel="stylesheet" href="./css/screens/landing.css" />
    <link rel="stylesheet" href="./css/screens/hub.css" />
    <link rel="stylesheet" href="./css/screens/profile.css" />

    <!-- ============================================================
        ‚ú® OVERLAYS (Story, Stats, Save, Settings, Skins, Maps)
    ============================================================ -->

    <link rel="stylesheet" href="./css/overlays/universal.css" />
    <link rel="stylesheet" href="./css/overlays/alert.css" />
    <link rel="stylesheet" href="./css/overlays/credits.css" />
    <link rel="stylesheet" href="./css/overlays/controls.css" />
    <link rel="stylesheet" href="./css/overlays/endscreen.css" />
    <link rel="stylesheet" href="./css/overlays/levelup.css" />
    <link rel="stylesheet" href="./css/overlays/maps.css" />
    <link rel="stylesheet" href="./css/overlays/save.css" />
    <link rel="stylesheet" href="./css/overlays/settings.css" />
    <link rel="stylesheet" href="./css/overlays/skins.css" />
    <link rel="stylesheet" href="./css/overlays/spires.css" />
    <link rel="stylesheet" href="./css/overlays/stats.css" />
    <link rel="stylesheet" href="./css/overlays/story.css" />
    <link rel="stylesheet" href="./css/overlays/support.css" />

    <!-- ============================================================
        üéÆ IN-GAME UI (HUD, Navbar, Spire Bar, Game Container)
    ============================================================ -->

    <link rel="stylesheet" href="./css/game/gameCanvas.css" />
    <link rel="stylesheet" href="./css/game/hud.css" />
    <link rel="stylesheet" href="./css/game/navbar.css" />
    <link rel="stylesheet" href="./css/game/spireBar.css" />
    
    <!-- ============================================================* -->

</head>

<body>

    <!-- ============================================================
         ü©∞ LANDING SCREEN
    ============================================================= -->
    <section id="landing-screen" class="screen active">
        <div class="landing-frame">

            <img
                src="./assets/images/backgrounds/landing_bg.png"
                class="landing-bg"
                alt="A fantasy castle scene of Olivia‚Äôs World"
            />

            <img
                src="./assets/images/art/logo.png"
                alt="Olivia‚Äôs World: Crystal Keep Logo"
                class="landing-logo"
            />

            <img
                src="./assets/images/characters/pegasus_glide.png"
                alt="Pegasus gliding across the sky"
                class="pegasus-fly"
            />

            <div class="magic-sparkle"></div>

            <div id="landing-container">
                <p class="landing-footer">
                    ¬© 2025 Olivia‚Äôs World: The Unicorn Isles
                </p> 

        </div>
        
            <h1 id="start-game">CLICK the SCREEN to START</h1>
         
    </section>

    <!-- ============================================================
         üëë PROFILE SCREEN
    ============================================================= -->
    <section id="profile-screen" class="screen" style="display: none;">
        <div class="profile-frame">

            <img
                src="./assets/images/backgrounds/profile_bg.png"
                class="profile-bg"
                alt="A crystal interior scene of Olivia‚Äôs World"
            />

            <div class="magic-sparkle"></div>

            <div id="profile-container">

                <img
                    src="./assets/images/art/logo.png"
                    alt="Olivia‚Äôs World: Crystal Keep Logo"
                    class="profile-logo"
                />

                <div class="profile-slots">
                    <div class="profile-slot">Profile 1</div>
                    <div class="profile-slot">Profile 2</div>
                    <div class="profile-slot">Profile 3</div>
                    <div class="profile-slot">Profile 4</div>
                    <div class="profile-slot">Profile 5</div>
                    <div class="profile-slot">Profile 6</div>
                </div>

                <button id="create-profile-btn" class="profile-btn">
                    Create New Profile
                </button>

            </div>

            <p class="profile-footer">
                ¬© 2025 Olivia‚Äôs World: The Unicorn Isles
            </p>

        </div>
    </section>

    <!-- ============================================================
         üè∞ HUB SCREEN
    ============================================================= -->
    <section id="hub-screen" class="screen" style="display: none;">
        <div class="hub-frame">
            <button id="credits-btn">Credits</button>
            <button id="support-btn">Support</button>
            

            <img
                src="./assets/images/backgrounds/hub_bg.png"
                class="hub-bg"
                alt="Crystal observatory hall ‚Äì Olivia‚Äôs World Hub"
            />

            <div class="magic-sparkle"></div>

            <img
                src="./assets/images/art/logo.png"
                alt="Olivia‚Äôs World: Crystal Keep Logo"
                class="hub-logo"
            />

            <!-- üí∞ Hub currencies -->
            <div id="hub-currencies">
                <span id="hub-diamonds"> Diamonds: 0</span>
            </div>

            <!-- üëë Hub profile display -->
            <div id="hub-profile">
                <div id="hub-profile-name">Princess Olivia</div>
                <div id="hub-profile-level">Level 1</div>
            </div>

            <!-- üéÅ Daily chest -->
            <div id="daily-chest">
                <img
                    src="./assets/images/hud/chest.png"
                    alt="Daily Reward Chest"
                    id="chest-img"
                />
                <div id="chest-timer">Ready to open!</div>
            </div>

            <button id="continue-btn">Continue</button>
            <button id="start-btn">Start</button>

            

            <!-- üå∏ HUB BUTTONS -->
            <div id="hub-container">
                
                <div class="hub-buttons">
                    <button id="new-story-btn">New Story</button>
                    <button id="load-game-btn">Load Game</button>
                    <button id="maps-btn">Maps</button>
                    <button id="spires-btn">Spires</button>
                    <button id="skins-btn">Skins</button>
                    <button id="stats-btn">Stats</button>
                    <button id="settings-btn">Settings</button>
                    <button id="exit-hub-btn">Exit</button>
                </div>
            
            </div>

            <!-- üìú Left-side Crystal Journal -->
            <div id="hub-news-left">
                <h3 class="news-title">üìú Crystal Journal</h3>
                <div class="news-feed">

                    <p><strong>üå∏ Lore Fragment:</strong> 
                    Deep within the Crystal Archives, scholars whisper of an ancient guardian who once protected the Isles from darkness.</p>

                    <p><strong>üí´ Tip:</strong> 
                    Collecting <em>Crystal Echoes</em> boosts your power for the entire map. Some are hidden in secret corners!</p>

                    <p><strong>üåø Druid‚Äôs Note:</strong> 
                    The Moonflower Druid senses a strange ripple in the Whispering Hollows‚Ä¶ something powerful is waking.</p>

                    <p><strong>‚ú® Lore Fragment:</strong> 
                    Goblins fear pure light ‚Äî upgraded Light Spires cause them to scatter more easily.</p>

                    <p><strong>üìò Crystal Archives:</strong> 
                    "Only the Princess can channel the power of the Spires. Others who try become overwhelmed by the magic."</p>

                    <p><strong>üíñ Tip:</strong> 
                    Healing crystals appear more often when your HP is below 35%. Stay calm and keep exploring.</p>

                </div>
            </div>

            <!-- üì∞ Right-side Crystal News -->
            <div id="hub-news">
                <h3 class="news-title">Crystal News üì∞</h3>
                <div class="news-feed">

                    <p><strong>‚ú® Patch 1.3:</strong> 
                    Crystal Echoes now grant bonus XP when all are collected in a map.</p>

                    <p><strong>üõ† Balance Update:</strong> 
                    Frost Spires now slow goblins by an additional 5% at Level 1.</p>

                    <p><strong>üåô Ready for Release!:</strong> 
                    Olivias World: Crystal Keep - Very close to completion!</p>

                    <p><strong>üßö Story Update:</strong> 
                    A mysterious figure has been sighted near Map 4‚Ä¶ the Hollow King may return.</p>

                    <p><strong>üíñ Tip:</strong> 
                    Flameheart Spires do extra fire damage to all enemies it can affect!</p>

                    <p><strong>üîÆ Upcoming Feature:</strong> 
                    A new Spire type ‚Äî <em>Solar Prism</em> ‚Äî will be introduced in Patch 1.4!</p>

                </div>
            </div>


            <!-- üåà HUB OVERLAYS (kept exactly as-is) -->
            <!-- (ALL overlays from your file remain untouched here) -->
            <!-- ============================================================
                 üåà HUB OVERLAYS
            ============================================================= -->

            <!-- Save / Load Overlay -->
            <div id="overlay-load" class="overlay hidden">
                <div class="overlay-box">
                    <h3>Save / Load Game</h3>

                    <!-- Slot container -->
                    <div id="save-slots-container"></div>

                    <button class="overlay-close">Close</button>
                </div>
            </div>

            <!-- Maps overlay -->
            <div id="overlay-maps" class="overlay hidden">
                <div class="overlay-box map-grid-container">
                    <h3 class="map-title">Choose a Map</h3>

                    <div class="map-grid">

                        <div class="map-tile" data-level="1">
                            <img src="./assets/images/thumbnails/map_one_thumb.png" class="map-thumb" alt="Map One Thumbnail">
                            <span class="map-title">Whispering Meadow</span>
                        </div>

                        <div class="map-tile locked" data-level="2">
                            <img src="./assets/images/thumbnails/map_two_thumb.png" class="map-thumb" alt="Map Two Thumbnail">
                            <span class="map-title">Bragg's Farm</span>
                        </div>

                        <div class="map-tile locked" data-level="3">
                            <img src="./assets/images/thumbnails/map_three_thumb.png" class="map-thumb" alt="Map Three Thumbnail">
                            <span class="map-title">The Drylands</span>
                        </div>

                        <div class="map-tile locked" data-level="4">
                            <img src="./assets/images/thumbnails/map_four_thumb.png" class="map-thumb" alt="Map Four Thumbnail">
                            <span class="map-title">The Ember Realm</span>
                        </div>

                        <div class="map-tile locked" data-level="5">
                            <img src="./assets/images/thumbnails/map_five_thumb.png" class="map-thumb" alt="Map Five Thumbnail">
                            <span class="map-title">The Ice Kingdom</span>
                        </div>

                        <div class="map-tile locked" data-level="6">
                            <img src="./assets/images/thumbnails/map_six_thumb.png" class="map-thumb" alt="Map Six Thumbnail">
                            <span class="map-title">The Light Kingdom</span>
                        </div>

                        <div class="map-tile locked" data-level="7">
                            <img src="./assets/images/thumbnails/map_seven_thumb.png" class="map-thumb" alt="Map Seven Thumbnail">
                            <span class="map-title">The Mirewood Swamp</span>
                        </div>

                        <div class="map-tile locked" data-level="8">
                            <img src="./assets/images/thumbnails/map_eight_thumb.png" class="map-thumb" alt="Map Eight Thumbnail">
                            <span class="map-title">The Void Realm</span>
                        </div>

                        <div class="map-tile locked" data-level="9">
                            <img src="./assets/images/thumbnails/map_nine_thumb.png" class="map-thumb" alt="Map Nine Thumbnail">
                            <span class="map-title">The Crystal Keep</span>
                        </div>

                    </div>

                    <button class="overlay-close">Close</button>
                </div>
            </div>

            <!-- Stats overlay -->
            <div id="overlay-stats" class="overlay hidden">
                <div class="overlay-box stats-container">

                    <h3 id="stats-title" class="stats-title">Princess Olivia</h3>

                    <div class="stats-content">
                        <div class="stats-portrait">
                            <img id="hub-stats-portrait" src="" alt="Skin Portrait" />
                        </div>

                        <div class="stats-table">
                            <div class="stat-row"><span class="stat-label">Level:</span><span id="stat-level">1</span></div>
                            <div class="stat-row"><span class="stat-label">XP:</span><span id="stat-xp">0 / 100</span></div>
                            <div class="stat-row"><span class="stat-label">HP:</span><span id="stat-hp">100 / 100</span></div>
                            <div class="stat-row"><span class="stat-label">Mana:</span><span id="stat-mana">50 / 50</span></div>
                            <div class="stat-row"><span class="stat-label">Spell Power:</span><span id="stat-spellPower">10</span></div>
                            <div class="stat-row"><span class="stat-label">Ranged Attack:</span><span id="stat-ranged">10</span></div>
                            <div class="stat-row"><span class="stat-label">Attack:</span><span id="stat-attack">15</span></div>
                            <div class="stat-row"><span class="stat-label">Defense:</span><span id="stat-defense">5</span></div>
                            <div class="stat-row"><span class="stat-label">Crit Chance:</span><span id="stat-crit">10%</span></div>
                        </div>
                    </div>

                    <button class="overlay-close">OK</button>
                </div>
            </div>
            <!-- Skins Overlay -->
            <div id="overlay-skins" class="overlay hidden">
                <div class="skins-panel">

                    <h2 class="skins-title">Choose Your Guardian</h2>

                    <div class="skins-grid">

                        <div class="skin-card" data-skin="glitter">
                            <img class="skin-portrait" src="./assets/images/portraits/portrait_glitter.png">
                            <h3>Glitter Guardian</h3>
                            <p class="skin-desc">Bright and Brave!</p>
                            <button class="skin-btn" data-action="equip">Equipped</button>
                        </div>

                        <div class="skin-card" data-skin="moon">
                            <img class="skin-portrait" src="./assets/images/portraits/portrait_moonflower.png">
                            <h3>Moonflower Druid</h3>
                            <p class="skin-desc">Nature‚Äôs calmest spirit.</p>
                            <button class="skin-btn" data-action="unlock">Unlock 2000 üíé</button>
                        </div>

                        <div class="skin-card" data-skin="star">
                            <img class="skin-portrait" src="./assets/images/portraits/portrait_star_sage.png">
                            <h3>Star Sage</h3>
                            <p class="skin-desc">Keeper of celestial fire.</p>
                            <button class="skin-btn" data-action="unlock">Unlock 2000 üíé</button>
                        </div>

                        <div class="skin-card" data-skin="silver">
                            <img class="skin-portrait" src="./assets/images/portraits/portrait_silver_arrow.png">
                            <h3>Silver Arrow</h3>
                            <p class="skin-desc">Swiftest ranger of the Isles.</p>
                            <button class="skin-btn" data-action="unlock">Unlock 2000 üíé</button>
                        </div>

                    </div>

                    <button id="skins-close" class="overlay-close">Close</button>

                </div>
            </div>

            <!-- Settings Overlay -->
            <div id="overlay-settings" class="overlay hidden">
                <div class="overlay-box settings-container">

                    <h3 class="settings-title">Settings</h3>

                    <div class="settings-grid">

                        <div class="setting-item">
                            <label for="music-volume">Music Volume</label>
                            <input type="range" id="music-volume" min="0" max="100" value="80" class="slider" />
                            <span id="music-value">80%</span>
                        </div>

                        <div class="setting-item">
                            <label for="sfx-volume">Sound Effects</label>
                            <input type="range" id="sfx-volume" min="0" max="100" value="80" class="slider" />
                            <span id="sfx-value">80%</span>
                        </div>

                        <div class="setting-item toggle">
                            <label for="visuals-toggle">Visual Effects</label>
                            <input type="checkbox" id="visuals-toggle" checked />
                            <span>Enabled</span>
                        </div>

                        <div class="setting-item difficulty-group">
                            <p class="settings-subtitle">Difficulty</p>

                            <div class="difficulty-options">
                                <input type="radio" name="difficulty" value="easy" id="difficulty-easy">
                                <label for="difficulty-easy">Easy</label>

                                <input type="radio" name="difficulty" value="normal" id="difficulty-normal">
                                <label for="difficulty-normal">Normal</label>

                                <input type="radio" name="difficulty" value="hard" id="difficulty-hard">
                                <label for="difficulty-hard">Hard</label>
                            </div>
                        </div>

                    </div>

                    <button class="overlay-close">Close</button>
                </div>
            </div>

        </div> <!-- end .hub-frame -->
    </section> <!-- end #hub-screen -->

    <!-- ============================================================
         üé¨ CREDITS SCREEN (CORRECT ROOT POSITION)
    ============================================================= -->
    <section id="credits-screen" class="screen hidden">
        <div class="credits-container">

            <div class="credits-scroll">

                <h1 class="credits-title">‚ú® Olivia‚Äôs World: Crystal Keep ‚ú®</h1>

                <h2>Created By</h2>
                <p>Kiyle Edwards</p>

                <h2>Lead Developer</h2>
                <p>Kiyle Edwards</p>

                <h2>AI Technical Partner</h2>
                <p>ChatGPT</p>

                <h2>Art Direction</h2>
                <p>Kiyle / Pastel Design Theme</p>

                <h2>Special Thanks</h2>
                <p>Your Wife & Kids üíñ</p>
                <p>All Supporters</p>

                <h2>Thank You For Playing! <br><br></h2>

                <p>
                  This game represents far more than code to me.<br>
                  It was my first real step into HTML, CSS, and JavaScript ‚Äî and the first time 
                  I ever built a complete application from nothing but an idea. <br><br>
                </p>

                <p>
                  Over the span of a month, I created Olivia‚Äôs World: Crystal Keep from the ground up:
                  the systems, the UI, the goblins, the maps, the overlays, and the gameplay flow ‚Äî 
                  all while learning the fundamentals of Web Development for the very first time. <br><br>
                </p>

                <p>
                  ChatGPT helped guide me, answer questions, and teach me concepts, but every system, 
                  function, mechanic, and line of code was written, tested, and refined by me ‚Äî through 
                  late nights, trial and error, and a lot of determination. <br><br>
                </p>

                <p>
                  This project helped me prove something important to myself:<br>
                  <strong>It's never too late to learn. It's never too late to build something real. 
                  And it's never too late to change your future.</strong> <br><br>
                </p>

                <p>
                  Thank you for playing ‚Äî and for being part of the very first step in my journey as a developer.
                </p>

            </div>

            <button id="credits-back-btn" class="credits-btn">
                Return to Hub
            </button>

        </div>
    </section>

    <!-- ============================================================
        üíñ SUPPORT SCREEN ‚Äî Crystal Glass Edition
    ============================================================ -->
    <section id="support-screen" class="screen hidden">
        <div class="credits-container">

            <div class="credits-scroll">

                <h1 class="credits-title">üíñ Support Olivia‚Äôs World</h1>

                <h2>Thank You</h2>
                <p>
                    Creating this game has been one of the most meaningful steps in my journey as a developer.  
                    If you'd like to support future updates, expansions, and more magical content ‚Äî you're amazing!
                </p>

                <h2>How You Can Support</h2>
                <p>‚ú® Send a donation</p>
                <p>‚ú® Join the community</p>
                <p>‚ú® Share the game with others</p>

                <h2>Donate</h2>
                <p>You can support development through:</p>
                <p><strong>PayPal (coming soon)</strong></p>
                <p><strong>Patreon (coming soon)</strong></p>

                <h2>Where Your Support Goes</h2>
                <p>üé® Artwork & improved character sprites</p>
                <p>üó∫Ô∏è New maps & story chapters</p>
                <p>‚öôÔ∏è Better servers for hosting the official version</p>
                <p>üéµ Music & sound improvements</p>

                <h2>Thank You</h2>
                <p>
                    Every bit of support ‚Äî even just playing the game ‚Äî means the world.  
                    You are helping this project grow into something truly special.
                </p>

            </div>

            <button id="support-back-btn" class="credits-btn">
                Return to Hub
            </button>

        </div>
    </section>


    <!-- ============================================================
         üìñ STORY OVERLAY (Global)
    ============================================================= -->
    <div id="overlay-story" class="overlay hidden">
        <div class="story-box">

            <div class="story-content">
                <img
                    src="./assets/images/portraits/portrait_glitter.png"
                    alt="Story Portrait"
                    class="story-portrait"
                    id="story-portrait"
                />
                <div class="story-text" id="story-text"></div>
            </div>

            <button id="story-next" class="story-next-btn">Continue</button>

        </div>
    </div>

    <!-- Spires overlay (global for hub and in-game) -->
    <div id="overlay-spires" class="overlay hidden">
        <div class="overlay-box spire-grid-container">

            <h3 class="spire-title">Spires</h3>

            <div class="spire-grid">

                <div class="spire-card" data-spire="1" data-unlock="1">
                    <img src="./assets/images/spires/basic_spire.png" alt="Basic Spire" class="spire-image" />
                    <div class="spire-info">
                        <h4>Crystal Defender</h4>
                        <p>Fires slow but powerful crystal bolts at goblins.</p>
                        <p class="unlock-info">?Y"" Unlocks at Level 2</p>
                        <p class="spire-upgrade-btn" data-upgrade-btn>Upgrade (20 ??)</p>
                        <p class="spire-upgrade-level" data-spire-level>Damage Bonus: 0%</p>
                    </div>
                </div>

                <div class="spire-card" data-spire="2" data-unlock="5">
                    <img src="./assets/images/spires/frost_spire.png" alt="Frost Spire" class="spire-image" />
                    <div class="spire-info">
                        <h4>Frost Sentinel</h4>
                        <p>Slows goblins with shards of enchanted ice.</p>
                        <p class="unlock-info">?Y"' Unlocks at Level 6</p>
                        <p class="spire-upgrade-btn" data-upgrade-btn>Upgrade (20 ??)</p>
                        <p class="spire-upgrade-level" data-spire-level>Damage Bonus: 0%</p>
                    </div>
                </div>

                <div class="spire-card" data-spire="3" data-unlock="10">
                    <img src="./assets/images/spires/flame_spire.png" alt="Flame Spire" class="spire-image" />
                    <div class="spire-info">
                        <h4>Flameheart</h4>
                        <p>Fires flaming crystals that set enemies ablaze!</p>
                        <p class="unlock-info">?Y"' Unlocks at Level 10</p>
                        <p class="spire-upgrade-btn" data-upgrade-btn>Upgrade (20 ??)</p>
                        <p class="spire-upgrade-level" data-spire-level>Damage Bonus: 0%</p>
                    </div>
                </div>

                <div class="spire-card" data-spire="4" data-unlock="15">
                    <img src="./assets/images/spires/light_spire.png" alt="Light Spire" class="spire-image" />
                    <div class="spire-info">
                        <h4>Beacon of Light</h4>
                        <p>Heals players who are nearby</p>
                        <p class="unlock-info">?Y"' Unlocks at Level 16</p>
                        <p class="spire-upgrade-btn" data-upgrade-btn>Upgrade (20 ??)</p>
                        <p class="spire-upgrade-level" data-spire-level>Damage Bonus: 0%</p>
                    </div>
                </div>

                <div class="spire-card" data-spire="5" data-unlock="20">
                    <img src="./assets/images/spires/arcane_spire.png" alt="Arcane Spire" class="spire-image" />
                    <div class="spire-info">
                        <h4>Arcane Spire</h4>
                        <p>Fires long distance bolts that hit harder!</p>
                        <p class="unlock-info">?Y"' Unlocks at Level 20</p>
                        <p class="spire-upgrade-btn" data-upgrade-btn>Upgrade (20 ??)</p>
                        <p class="spire-upgrade-level" data-spire-level>Damage Bonus: 0%</p>
                    </div>
                </div>

                <div class="spire-card" data-spire="6" data-unlock="25">
                    <img src="./assets/images/spires/moon_spire.png" alt="Moonlight Spire" class="spire-image" />
                    <div class="spire-info">
                        <h4>Moonlight Aegis</h4>
                        <p>Fire gravity bolts that stuns goblins!</p>
                        <p class="unlock-info">?Y"' Unlocks at Level 25</p>
                        <p class="spire-upgrade-btn" data-upgrade-btn>Upgrade (20 ??)</p>
                        <p class="spire-upgrade-level" data-spire-level>Damage Bonus: 0%</p>
                    </div>
                </div>

            </div>

            <button class="overlay-close">Close</button>
        </div>
    </div>

    <!-- ============================================================
         üó∫Ô∏è GAME CONTAINER
    ============================================================= -->
    <section id="game-container" class="screen" style="display: none;">

        <div id="hud">

            <div id="hp-bar" class="bar small">
                <span id="hp-text" class="bar-text">100 / 100</span>
            </div>

            <div id="center-stats">
                <div id="wave-display">Wave 1</div>
                <div id="lives-display">Lives 10</div>
                <div id="gold-display">Shards: 0</div>
                <div id="diamond-display">Diamonds: 0</div>
            </div>

            <div id="mana-bar" class="bar small">
                <span id="mana-text" class="bar-text">50 / 50</span>
            </div>

        </div>

        <div id="hud-controls-mini">
            <span class="key">W</span> Up
            <span class="key">A</span> Left
            <span class="key">S</span> Down
            <span class="key">D</span> Right
            ‚Ä¢
            <span class="key">SPACE</span> Melee
            <span class="key">CLICK</span> Shoot
            <span class="key">SHIFT</span> Sprint
            ‚Ä¢
            <span class="key">Q</span> Bravery
            <span class="key">F</span> Spell
            <span class="key">R</span> Heal
        </div>

        <!-- üß≠ NAVBAR -->
        <nav id="game-navbar" class="game-navbar">
            <button data-action="home" title="Return to Hub">üè†</button>
            <button data-action="save" title="Save / Load">üíæ</button>
            <button data-action="restart" title="Restart">üîÑ</button>
            <button data-action="controls" title="Controls">üéÆ</button>
            <button data-action="settings" title="Settings">‚öôÔ∏è</button>
            <button data-action="player" title="Player Stats">üëë</button>
            <button data-action="spires" title="Spires">üîÆ</button>
        </nav>

        <canvas id="game-canvas" width="1920" height="1080"></canvas>

        <!-- üè∞ SPIRE BAR -->
        <div id="spire-bar" class="spire-bar">

            <div class="spire-slot" data-id="1">
                <img src="./assets/images/spires/basic_spire.png" alt="Basic Spire" />
                <span>Lv 2</span>
            </div>

            <div class="spire-slot" data-id="2">
                <img src="./assets/images/spires/frost_spire.png" alt="Frost Spire" />
                <span>Lv 6</span>
            </div>

            <div class="spire-slot" data-id="3">
                <img src="./assets/images/spires/flame_spire.png" alt="Flame Spire" />
                <span>Lv 10</span>
            </div>

            <div class="spire-slot" data-id="4">
                <img src="./assets/images/spires/arcane_spire.png" alt="Arcane Spire" />
                <span>Lv 15</span>
            </div>

            <div class="spire-slot" data-id="5">
                <img src="./assets/images/spires/light_spire.png" alt="Light Spire" />
                <span>Lv 20</span>
            </div>

            <div class="spire-slot" data-id="6">
                <img src="./assets/images/spires/moon_spire.png" alt="Moonlight Spire" />
                <span>Lv 25</span>
            </div>

        </div>

        <div id="bravery-bar">
            <div id="bravery-fill"></div>
        </div>

        <!-- üåø Corner HUD circles: arrows (left) + crystal echoes (right) -->
        <div class="hud-corner hud-corner-left" id="hud-arrows-circle" aria-label="Crystal Arrows" role="status">
        <div class="hud-circle-inner">
            <div class="hud-circle-icon hud-circle-icon-arrow">
            ‚û∂
            </div>
            <div class="hud-circle-counter">
            <span id="hud-arrows-value">0</span>
            </div>
        </div>
        </div>

        <div class="hud-corner hud-corner-right" id="hud-crystals-circle" aria-label="Crystal Echoes" role="status">
        <div class="hud-circle-inner">
            <div class="hud-circle-icon hud-circle-icon-crystal">
            ‚úß
            </div>
            <div class="hud-circle-counter">
            <span id="hud-crystals-found">0</span>
            <span class="hud-circle-separator">/</span>
            <span id="hud-crystals-total">0</span>
            </div>
        </div>
        </div>
        <!-- ============================================================
             ‚öôÔ∏è IN-GAME SETTINGS OVERLAY
        ============================================================= -->
        <div id="overlay-settings-game" class="overlay hidden">
            <div class="overlay-box settings-container">

                <h3 class="settings-title">‚öôÔ∏è Game Settings ‚öôÔ∏è</h3>

                <div class="settings-grid">

                    <div class="setting-item">
                        <label for="music-volume-game">Music Volume</label>
                        <input type="range" id="music-volume-game" min="0" max="100" value="80" class="slider" />
                        <span id="music-value-game">80%</span>
                    </div>

                    <div class="setting-item">
                        <label for="sfx-volume-game">Sound Effects</label>
                        <input type="range" id="sfx-volume-game" min="0" max="100" value="80" class="slider" />
                        <span id="sfx-value-game">80%</span>
                    </div>

                    <div class="setting-item toggle">
                        <label for="visuals-toggle-game">Visual Effects</label>
                        <input type="checkbox" id="visuals-toggle-game" checked />
                        <span>Enabled</span>
                    </div>

                    <div class="difficulty-options">
                        <input type="radio" name="difficulty-game" value="easy" id="difficulty-easy-game">
                        <label for="difficulty-easy-game">Easy</label>

                        <input type="radio" name="difficulty-game" value="normal" id="difficulty-normal-game">
                        <label for="difficulty-normal-game">Normal</label>

                        <input type="radio" name="difficulty-game" value="hard" id="difficulty-hard-game">
                        <label for="difficulty-hard-game">Hard</label>
                    </div>

                </div>

                <button class="overlay-close">OK</button>

            </div>
        </div>


        <!-- ============================================================
            üéÆ CONTROLS OVERLAY (IMAGE VERSION)
        ============================================================= -->
        <div id="overlay-controls" class="overlay hidden">
            <div class="overlay-frame">
                <div class="overlay-inner">

                    <div class="overlay-box controls-box">

                        <!-- üì∏ New instructional image -->
                        <div class="controls-image-wrapper">
                            <img src="./assets/images/howtoplay/how_to_play.png"
                                alt="How to Play Guide"
                                class="controls-image">
                        </div>

                        <!-- Close button stays the same -->
                        <div class="overlay-actions">
                            <button class="overlay-close">OK</button>
                        </div>

                    </div>

                </div>
            </div>
        </div>


        <!-- ============================================================
             üíæ IN-GAME SAVE / LOAD OVERLAY
        ============================================================= -->
        <div id="overlay-save-game" class="overlay hidden">
            <div class="overlay-box save-container">

                <h3 class="save-title">üíæ Save / Load Game</h3>

                <div id="save-slots-ingame"></div>

                <button class="overlay-close">OK</button>

            </div>
        </div>



        <!-- ============================================================
             üëë PLAYER STATS OVERLAY (In-Game)
        ============================================================= -->
        <div id="overlay-player-stats" class="overlay hidden">
            <div class="overlay-box stats-container">

                <h3 id="player-stats-title" class="stats-title">Princess Olivia</h3>

                <div class="stats-content">

                    <div class="stats-portrait">
                        <img id="player-stats-portrait" src="" alt="Player Portrait" />
                    </div>

                    <div class="stats-table">
                        <div class="stat-row"><span class="stat-label">Level:</span><span id="pstat-level">1</span></div>
                        <div class="stat-row"><span class="stat-label">XP:</span><span id="pstat-xp">0 / 100</span></div>
                        <div class="stat-row"><span class="stat-label">HP:</span><span id="pstat-hp">100 / 100</span></div>
                        <div class="stat-row"><span class="stat-label">Mana:</span><span id="pstat-mana">50 / 50</span></div>
                        <div class="stat-row"><span class="stat-label">Spell Power:</span><span id="pstat-spellPower">10</span></div>
                        <div class="stat-row"><span class="stat-label">Ranged Attack:</span><span id="pstat-ranged">10</span></div>
                        <div class="stat-row"><span class="stat-label">Attack:</span><span id="pstat-attack">15</span></div>
                        <div class="stat-row"><span class="stat-label">Defense:</span><span id="pstat-defense">5</span></div>
                        <div class="stat-row"><span class="stat-label">Crit Chance:</span><span id="pstat-crit">10%</span></div>
                    </div>

                </div>

                <button class="overlay-close">OK</button>

            </div>
        </div>

        <!-- ============================================================
             CONFIRM OVERLAY
        ============================================================= -->
        <div id="overlay-confirm" class="overlay hidden">
            <div class="overlay-box">

                <h3 id="confirm-title">Confirm</h3>
                <p id="confirm-message">Are you sure?</p>

                <div class="confirm-buttons">
                    <button id="confirm-yes" class="overlay-close">Yes</button>
                    <button id="confirm-no" class="overlay-close">No</button>
                </div>

            </div>
        </div>

        <!-- ============================================================
             ‚ú® LEVEL UP OVERLAY
        ============================================================= -->
        <div id="overlay-levelup" class="overlay hidden">
            <div class="levelup-box">

                <h2 class="levelup-title">‚ú® YOUR POWER GROWS! ‚ú® <br><br></h2>

                <p id="levelup-message" class="levelup-message">
                    You reached <strong>Level 1</strong>!<br><br><br>
                    You have <strong>1</strong> point available!
                </p>

                <div class="levelup-buttons">

                    <button class="levelup-btn" data-key="attack">
                        <img src="assets/images/icons/attack_level_up.png" class="levelup-icon" />
                        <span>Attack</span>
                    </button>

                    <button class="levelup-btn" data-key="spellPower">
                        <img src="assets/images/icons/spell_level_up.png" class="levelup-icon" />
                        <span>Spell Power</span>
                    </button>

                    <button class="levelup-btn" data-key="rangedAttack">
                        <img src="assets/images/icons/ranged_level_up.png" class="levelup-icon" />
                        <span>Ranged Attack</span>
                    </button>

                    <div class="levelup-summary">
                        <h4>Points Spent</h4>

                        <div class="summary-row">
                            <span>Attack:</span>
                            <span id="sum-attack">0</span>
                        </div>

                        <div class="summary-row">
                            <span>Spell Power:</span>
                            <span id="sum-spell">0</span>
                        </div>

                        <div class="summary-row">
                            <span>Ranged Attack:</span>
                            <span id="sum-ranged">0</span>
                        </div>

                    </div>


                </div>

            </div>
        </div>


    </section> <!-- end game-container -->

    <div id="game-loading-overlay" style="
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.45);
        display: none;
        align-items: center;
        justify-content: center;
        font-size: 26px;
        color: white;
        z-index: 999999;
        backdrop-filter: blur(4px);
        font-family: 'Comic Sans MS', sans-serif;">

      <div>Loading‚Ä¶</div>

    </div>
    
    <!-- ============================================================
         üéÆ SCRIPT ENTRY
    ============================================================= -->
    <script type="module" src="./main.js"></script>

</body>
</html>