#daily-chest {
  position: fixed;  /* not absolute */
  right: 25%;
  width: 220px;
  bottom: 40%;
  transform: translateY(50%);
  z-index: 999;
}

#chest-img {
  width: 150px;
  height: auto;
  cursor: pointer;

  transition: transform 0.3s ease, filter 0.3s ease;

  filter: drop-shadow(0 0 20px rgba(255, 192, 230, 0.70));
  animation: chestPulse 4s ease-in-out infinite alternate;
}

#chest-img:hover {
  transform: scale(1.10);
  filter: drop-shadow(0 0 32px rgba(255, 192, 230, 0.95));
}

/* Disabled */
#daily-chest.disabled #chest-img {
  opacity: 0.5;
  cursor: default;

  /* The KEY fix */
  filter:
    grayscale(0.9)
    brightness(0.7)
    drop-shadow(0 0 20px rgba(255, 192, 230, 0.25));

  animation: none;
}

/* ============================================================
   ✨ CHEST PULSE ANIMATION
============================================================ */
@keyframes chestPulse {
  0%   { transform: scale(1); }
  100% { transform: scale(1.04); }
}

/* ============================================================
   ✨ SPARKLES — 30% Smaller, Correctly Positioned
============================================================ */
.sparkle {
  position: fixed;

  /* These are dynamically assigned in JS */
  left: var(--origin-x);
  top: var(--origin-y);

  /* Base scale */
  transform: translate(-50%, -50%) scale(0.7);

  opacity: 0.9;
  pointer-events: none;
  mix-blend-mode: screen;

  animation:
    sparkleFly 1.2s ease-out forwards,
    sparkleFade 1.2s ease-in forwards;

  z-index: 9999;
}

/* ============================================================
   ✨ Sparkle Flight Path (Reduced Travel)
============================================================ */
@keyframes sparkleFly {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 1;
  }
  70% {
    transform: translate(
                calc(var(--x) * 0.7),
                calc(var(--y) * 0.7)
              )
              scale(0.85);
    opacity: 1;
  }
  100% {
    transform: translate(
                calc(var(--x) * 0.7),
                calc(var(--y) * 0.7)
              )
              scale(0);
    opacity: 0;
  }
}

/* ============================================================
   ✨ Sparkle Fade (Soft Blur)
============================================================ */
@keyframes sparkleFade {
  0%   { filter: blur(0px); }
  100% { filter: blur(5px); }
}
